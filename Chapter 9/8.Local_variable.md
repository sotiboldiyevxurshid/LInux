# Local o'zgaruvchan

- Odatiy bo'lib, barcha o'zgaruvchilar globaldir.
- Funktsiyadagi o'zgaruvchini o'zgartirish uni butun skriptda o'zgartiradi.
- Bu muammoga olib kelishi mumkin. Masalan, ``fvar.sh`` nomli shell skriptini yarating:

```
#!/bin/bash
create_jail(){
   d=$1  
   echo "create_jail(): d is set to $d"
}

d=/apache.jail

echo "Before calling create_jail  d is set to $d"

create_jail "/home/apache/jail"

echo "After calling create_jail d is set to $d"
```

#### Faylni saqlang va yoping. Uni quyidagicha ishga tushiring:

```
chmod +x fvar.sh
./fvar.sh
```


#### Namuna natijalari:

```
Before calling create_jail  d is set to /apache.jail
create_jail(): d is set to /home/apache/jail
After calling create_jail d is set to /home/apache/jail
```

# Local buyruq

- Local buyruq yordamida mahalliy o'zgaruvchilar yaratishingiz mumkin va sintaksis:

```
local var=value
local varName
```

### yoki

```
function name(){
   local var=$1
   command1 on $var
}
```


- local buyruq faqat funktsiya ichida ishlatilishi mumkin.
- Bu o'zgaruvchi nomini faqat ushbu funktsiya va uning bolalari uchun cheklangan ko'rinadigan doiraga ega qiladi. Quyida yuqoridagi skriptning yangilangan versiyasi keltirilgan:


```
#!/bin/bash
# global d variable
d=/apache.jail

# User defined function
create_jail(){
   # d is only visible to this fucntion
   local d=$1  
   echo "create_jail(): d is set to $d"
}

echo "Before calling create_jail  d is set to $d"

create_jail "/home/apache/jail"

echo "After calling create_jail d is set to $d"
```

#### Namuna namunasi:

```
Before calling create_jail  d is set to /apache.jail
create_jail(): d is set to /home/apache/jail
After calling create_jail d is set to /apache.jail
```

### Misol

#### Quyidagi misolda:

- ```Declare``` buyrug'i ```PASSWD_FILE``` deb nomlangan doimiy o'zgaruvchini yaratish uchun ishlatiladi.
- ```die()``` funktsiyasi boshqa barcha funktsiyalardan oldin aniqlanadi.
- Siz bir xil skript yoki boshqa funksiyadan funktsiyani chaqirishingiz mumkin.Misol uchun, ```die() is_user_exist() ```dan chaqiriladi.



